---
import Layout from '../components/lv3-layout/Layout.astro';
import Pwd from '../components/lv2-commands/Pwd.astro';
import Tree from '../components/lv2-commands/Tree.astro';
import Cat from '../components/lv2-commands/Cat.astro';
import { getCollection } from 'astro:content';
import { Entry } from '../lib/util';

export async function getStaticPaths() {
  const allEntries = await getCollection('daily');
  const dates = Entry.getDates(allEntries);

  return dates.map((date) => ({
    params: { date },
  }));
}

const { date } = Astro.params;

const pageTitle = `${date} - Daily LLM Conversations`;
---

<Layout title={pageTitle}>
  <Pwd path={`/${date}`} />
  <Cat path={`/${date}/`} />
  <Tree path={`/${date}`} />
</Layout>
