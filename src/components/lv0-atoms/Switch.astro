---

---

<div class="theme-flags">
  <button class="flag dark-flag" data-theme="dark">
    <span class="flag-name">--dark</span>
    <span class="flag-state"></span>
  </button>
  <button class="flag light-flag" data-theme="light">
    <span class="flag-name">--light</span>
    <span class="flag-state"></span>
  </button>
  <button class="flag system-flag" data-theme="system">
    <span class="flag-name">--system</span>
    <span class="flag-state"></span>
  </button>
</div>

<style lang="scss">
  .theme-flags {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    align-items: flex-end;

    .flag {
      background: none;
      border: none;
      padding: 0;
      display: flex;
      gap: var(--space-xs);
      font-family: var(--font-mono);
      font-size: var(--text-base);
      color: var(--term-text);

      &:hover {
        text-decoration: underline;
      }
    }

    .flag-state::before {
      content: '[ ]';
    }
  }

  /* Active state styling */
  :global([data-theme-preference='dark']) .dark-flag .flag-state::before {
    content: '[x]';
  }

  :global([data-theme-preference='light']) .light-flag .flag-state::before {
    content: '[x]';
  }

  :global([data-theme-preference='system']) .system-flag .flag-state::before {
    content: '[x]';
  }
</style>

<script>
  import { applyTheme } from '../../lib/theme';

  document.querySelectorAll('.flag').forEach((button) => {
    button.addEventListener('click', () => {
      const theme = button.getAttribute('data-theme') as
        | 'light'
        | 'dark'
        | 'system';
      if (theme) {
        applyTheme(theme);
      }
    });
  });
</script>
